<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dr. Diwash Silwal - Academic Profile</title>
  <link href="https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.css" rel="stylesheet"/>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', sans-serif; background-color: #f9f9f9; color: #333; }
    header {
      background-image: url('https://images.unsplash.com/photo-1609591232615-42c58ebd09d6?auto=format&fit=crop&w=1650&q=80');
      background-size: cover;
      background-position: center;
      height: 250px;
      position: relative;
    }
    .profile-container {
      position: absolute;
      bottom: -75px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
    }
    .profile-pic {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      border: 4px solid white;
      object-fit: cover;
      background-color: #ddd;
    }
    .upload-btn {
      margin-top: 12px;
      padding: 8px 16px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    main {
      padding-top: 100px;
      max-width: 1000px;
      margin: auto;
    }
    section { margin-bottom: 40px; }
    h2 { border-bottom: 2px solid #007bff; padding-bottom: 5px; margin-bottom: 15px; color: #007bff; }
    ul { list-style: none; padding-left: 0; }
    li { margin-bottom: 10px; }
    .folders div {
      margin: 10px 0;
      padding: 10px;
      background-color: #e9ecef;
      border-left: 5px solid #007bff;
      border-radius: 5px;
    }
    #cropModal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0, 0, 0, 0.7);
      justify-content: center;
      align-items: center;
      z-index: 999;
    }
    #cropBox {
      background: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
    }
    #cropImage { max-width: 100%; max-height: 400px; }
    .modal-btn {
      margin-top: 10px;
      padding: 8px 14px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .save-btn { background-color: #28a745; color: white; }
    .cancel-btn { background-color: #dc3545; color: white; }
  </style>
</head>
<body>
  <header></header>
  <div class="profile-container">
    <img id="profilePic" class="profile-pic" src="https://via.placeholder.com/150" alt="Profile Picture"/>
    <input type="file" id="fileInput" accept="image/*" style="display: none;" />
    <button class="upload-btn" onclick="document.getElementById('fileInput').click()">Change Photo</button>
  </div>

  <main>
    <section>
      <h2>Education</h2>
      <ul id="education-list">
        <li>M.Sc. Physics - Tribhuvan University, Central Department of Physics (2025)</li>
        <li>B.Sc. Physics - Damak Multiple Campus (2021)</li>
        <li>Mathematics Add-on - Tri-Chandra College (2021)</li>
      </ul>
    </section>

    <section>
      <h2>Blog / News</h2>
      <ul>
        <li><strong>Term Paper:</strong> Urban Heat Island in Jhapa using GIS & ML - 2025</li>
        <li><strong>Field Study:</strong> Atmospheric Boundary Layer over Eastern Nepal - 2024</li>
      </ul>
    </section>

    <section>
      <h2>Folders (Academic Work)</h2>
      <div class="folders">
        <div>üìÅ Atmospheric Physics Notes</div>
        <div>üìÅ Biomedical Physics Notes</div>
        <div>üìÅ Research Papers</div>
        <div>üìÅ Lecture Slides</div>
        <div>üìÅ Student Projects & Assignments</div>
      </div>
    </section>
  </main>

  <!-- Crop Modal -->
  <div id="cropModal">
    <div id="cropBox">
      <img id="cropImage" />
      <br />
      <button class="modal-btn save-btn" onclick="cropAndSave()">Save</button>
      <button class="modal-btn cancel-btn" onclick="closeCropper()">Cancel</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/cropperjs"></script>
  <script>
    const fileInput = document.getElementById('fileInput');
    const profilePic = document.getElementById('profilePic');
    const cropModal = document.getElementById('cropModal');
    const cropImage = document.getElementById('cropImage');
    let cropper;

    fileInput.addEventListener('change', (e) => {
      const file = e.target.files[0];
      if (file && file.type.startsWith('image/')) {
        const reader = new FileReader();
        reader.onload = () => {
          cropImage.src = reader.result;
          cropModal.style.display = 'flex';
          if (cropper) cropper.destroy();
          cropper = new Cropper(cropImage, {
            aspectRatio: 1,
            viewMode: 1,
          });
        };
        reader.readAsDataURL(file);
      }
    });

    function cropAndSave() {
      const canvas = cropper.getCroppedCanvas({ width: 150, height: 150 });
      profilePic.src = canvas.toDataURL('image/png');
      closeCropper();
    }

    function closeCropper() {
      cropModal.style.display = 'none';
      if (cropper) cropper.destroy();
      fileInput.value = '';
    }
  </script>
</body>
</html>
